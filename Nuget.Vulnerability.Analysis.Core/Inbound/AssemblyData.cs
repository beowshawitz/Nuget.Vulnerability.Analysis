using System;
using System.Text.Json.Serialization;

namespace Nuget.Vulnerability.Analysis.Core.Inbound
{
	public class AssemblyData
	{
		[JsonPropertyName("name")]
		public string Name { get; set; } = string.Empty;
		[JsonPropertyName("version")]
		public string Version { get; set; } = string.Empty;

		public bool IsIncomplete
		{ 
			get
			{
				if(string.IsNullOrEmpty(Name))
					return true;
				else
					return false;
			} 
		}

		[JsonConstructor]
		public AssemblyData()
		{ }

		public AssemblyData(string combo)
		{
			if(!string.IsNullOrEmpty(combo) && combo.Contains("|"))
			{
				string[] parts = combo.Split('|');
				Name = parts[0];
				Version = parts[1];
			}
		}


		public AssemblyData(string name, string version)
		{
			Name = name;
			Version = version;
		}
	}
}
